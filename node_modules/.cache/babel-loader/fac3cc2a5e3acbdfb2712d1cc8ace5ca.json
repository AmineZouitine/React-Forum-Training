{"ast":null,"code":"var _jsxFileName = \"/home/aminou/React/mon-coter-somber/src/Responce.js\",\n    _s = $RefreshSig$();\n\nimport { Navigate } from 'react-router-dom';\nimport { ForumState } from './ForumContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Responce = _ref => {\n  _s();\n\n  let {\n    id\n  } = _ref;\n  const history = useNavigate();\n  const {\n    userToken,\n    userName\n  } = ForumState();\n\n  const handleClick = async content => {\n    if (!userToken) return;\n    var seen = [];\n    const requestContent = {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        'auth-token': userToken\n      },\n      body: JSON.stringify({\n        name: userName,\n        content: content,\n        id_: id_\n      }, (key, val) => {\n        if (val != null && typeof val == \"object\") {\n          if (seen.indexOf(val) >= 0) {\n            return;\n          }\n\n          seen.push(val);\n        }\n\n        return val;\n      })\n    };\n    await fetch(\"/posts/create-new-post\", requestContent).then(_ => history('/'));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"responce-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Ajouter un commentaire\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      children: \"Poster\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Responce, \"UuBpJaL/77ixlr0CeL0xEoy8mog=\", true);\n\n_c = Responce;\nexport default Responce;\n\nvar _c;\n\n$RefreshReg$(_c, \"Responce\");","map":{"version":3,"names":["Navigate","ForumState","Responce","id","history","useNavigate","userToken","userName","handleClick","content","seen","requestContent","method","headers","body","JSON","stringify","name","id_","key","val","indexOf","push","fetch","then","_"],"sources":["/home/aminou/React/mon-coter-somber/src/Responce.js"],"sourcesContent":["import { Navigate } from 'react-router-dom';\nimport { ForumState } from './ForumContext';\n\nconst Responce = ({id}) => {\n    \n    const history = useNavigate();\n    const { userToken, userName } = ForumState();\n    const handleClick = async (content) =>\n    {\n        if (!userToken)\n            return;\n        \n        var seen = [];\n        const requestContent = {\n            method: 'PATCH',\n            headers: {\n                'Content-Type' : 'application/json',\n                'auth-token': userToken\n            },\n            body: JSON.stringify(\n                {\n                    name: userName,\n                    content: content,\n                    id_: id_,\n                },\n                (key, val) => {\n                    if (val != null && typeof val == \"object\") {\n                        if (seen.indexOf(val) >= 0) {\n                            return;\n                        }\n                        seen.push(val);\n                    }\n                    return val;\n                }\n            )\n        };\n        await fetch(\"/posts/create-new-post\", requestContent).then((_) => history('/'));\n    }\n    return (\n        <div className=\"responce-container\">\n            <h2>Ajouter un commentaire</h2>\n            <textarea/>\n            <button>Poster</button>\n        </div>\n    );\n}\n \nexport default Responce;\n"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,kBAAzB;AACA,SAASC,UAAT,QAA2B,gBAA3B;;;AAEA,MAAMC,QAAQ,GAAG,QAAU;EAAA;;EAAA,IAAT;IAACC;EAAD,CAAS;EAEvB,MAAMC,OAAO,GAAGC,WAAW,EAA3B;EACA,MAAM;IAAEC,SAAF;IAAaC;EAAb,IAA0BN,UAAU,EAA1C;;EACA,MAAMO,WAAW,GAAG,MAAOC,OAAP,IACpB;IACI,IAAI,CAACH,SAAL,EACI;IAEJ,IAAII,IAAI,GAAG,EAAX;IACA,MAAMC,cAAc,GAAG;MACnBC,MAAM,EAAE,OADW;MAEnBC,OAAO,EAAE;QACL,gBAAiB,kBADZ;QAEL,cAAcP;MAFT,CAFU;MAMnBQ,IAAI,EAAEC,IAAI,CAACC,SAAL,CACF;QACIC,IAAI,EAAEV,QADV;QAEIE,OAAO,EAAEA,OAFb;QAGIS,GAAG,EAAEA;MAHT,CADE,EAMF,CAACC,GAAD,EAAMC,GAAN,KAAc;QACV,IAAIA,GAAG,IAAI,IAAP,IAAe,OAAOA,GAAP,IAAc,QAAjC,EAA2C;UACvC,IAAIV,IAAI,CAACW,OAAL,CAAaD,GAAb,KAAqB,CAAzB,EAA4B;YACxB;UACH;;UACDV,IAAI,CAACY,IAAL,CAAUF,GAAV;QACH;;QACD,OAAOA,GAAP;MACH,CAdC;IANa,CAAvB;IAuBA,MAAMG,KAAK,CAAC,wBAAD,EAA2BZ,cAA3B,CAAL,CAAgDa,IAAhD,CAAsDC,CAAD,IAAOrB,OAAO,CAAC,GAAD,CAAnE,CAAN;EACH,CA9BD;;EA+BA,oBACI;IAAK,SAAS,EAAC,oBAAf;IAAA,wBACI;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI;MAAA;MAAA;MAAA;IAAA,QAFJ,eAGI;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAHJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAOH,CA1CD;;GAAMF,Q;;KAAAA,Q;AA4CN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}