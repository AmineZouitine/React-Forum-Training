{"ast":null,"code":"var _jsxFileName = \"/home/aminou/React/mon-coter-somber/src/Responce.js\",\n    _s = $RefreshSig$();\n\nimport { useNavigate } from 'react-router-dom';\nimport { useState } from 'react';\nimport { ForumState } from './ForumContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Responce = _ref => {\n  _s();\n\n  let {\n    id_\n  } = _ref;\n  const history = useNavigate();\n  const {\n    userToken,\n    userName\n  } = ForumState();\n\n  const handleClick = async content => {\n    if (!userToken) return;\n    var seen = [];\n    const requestContent = {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        'auth-token': userToken\n      },\n      body: JSON.stringify({\n        name: userName,\n        content: content,\n        _id: id_\n      }, (key, val) => {\n        if (val != null && typeof val == \"object\") {\n          if (seen.indexOf(val) >= 0) {\n            return;\n          }\n\n          seen.push(val);\n        }\n\n        return val;\n      })\n    };\n    await fetch(\"/posts/add-comment\", requestContent).then(_ => history(0)).catch(err => console.log(err));\n  };\n\n  const [content, setContent] = useState(\"\");\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"responce-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Ajouter un commentaire\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      value: content,\n      onChange: event => setContent(event.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => handleClick(content),\n      children: \"Poster\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Responce, \"MELFh17GgpEoGc8r3ilnG9cn0gA=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Responce;\nexport default Responce;\n\nvar _c;\n\n$RefreshReg$(_c, \"Responce\");","map":{"version":3,"names":["useNavigate","useState","ForumState","Responce","id_","history","userToken","userName","handleClick","content","seen","requestContent","method","headers","body","JSON","stringify","name","_id","key","val","indexOf","push","fetch","then","_","catch","err","console","log","setContent","event","target","value"],"sources":["/home/aminou/React/mon-coter-somber/src/Responce.js"],"sourcesContent":["import { useNavigate } from 'react-router-dom';\nimport { useState } from 'react';\nimport { ForumState } from './ForumContext';\n\nconst Responce = ({id_}) => {\n    \n    const history = useNavigate();\n    const { userToken, userName } = ForumState();\n    const handleClick = async (content) =>\n    {\n        if (!userToken)\n            return;\n        \n        var seen = [];\n        const requestContent = {\n            method: 'PATCH',\n            headers: {\n                'Content-Type' : 'application/json',\n                'auth-token': userToken\n            },\n            body: JSON.stringify(\n                {\n                    name: userName,\n                    content: content,\n                    _id: id_,\n                },\n                (key, val) => {\n                    if (val != null && typeof val == \"object\") {\n                        if (seen.indexOf(val) >= 0) {\n                            return;\n                        }\n                        seen.push(val);\n                    }\n                    return val;\n                }\n            )\n        };\n        await fetch(\"/posts/add-comment\", requestContent).then((_) => history(0)).catch(err => console.log(err));\n    }\n    \n    const [ content, setContent ] = useState(\"\");\n\n    return (\n        <div className=\"responce-container\">\n            <h2>Ajouter un commentaire</h2>\n            <textarea value={content} onChange={(event) => setContent(event.target.value)}/>\n            <button onClick={() => handleClick(content)}>Poster</button>\n        </div>\n    );\n}\n \nexport default Responce;\n"],"mappings":";;;AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,UAAT,QAA2B,gBAA3B;;;AAEA,MAAMC,QAAQ,GAAG,QAAW;EAAA;;EAAA,IAAV;IAACC;EAAD,CAAU;EAExB,MAAMC,OAAO,GAAGL,WAAW,EAA3B;EACA,MAAM;IAAEM,SAAF;IAAaC;EAAb,IAA0BL,UAAU,EAA1C;;EACA,MAAMM,WAAW,GAAG,MAAOC,OAAP,IACpB;IACI,IAAI,CAACH,SAAL,EACI;IAEJ,IAAII,IAAI,GAAG,EAAX;IACA,MAAMC,cAAc,GAAG;MACnBC,MAAM,EAAE,OADW;MAEnBC,OAAO,EAAE;QACL,gBAAiB,kBADZ;QAEL,cAAcP;MAFT,CAFU;MAMnBQ,IAAI,EAAEC,IAAI,CAACC,SAAL,CACF;QACIC,IAAI,EAAEV,QADV;QAEIE,OAAO,EAAEA,OAFb;QAGIS,GAAG,EAAEd;MAHT,CADE,EAMF,CAACe,GAAD,EAAMC,GAAN,KAAc;QACV,IAAIA,GAAG,IAAI,IAAP,IAAe,OAAOA,GAAP,IAAc,QAAjC,EAA2C;UACvC,IAAIV,IAAI,CAACW,OAAL,CAAaD,GAAb,KAAqB,CAAzB,EAA4B;YACxB;UACH;;UACDV,IAAI,CAACY,IAAL,CAAUF,GAAV;QACH;;QACD,OAAOA,GAAP;MACH,CAdC;IANa,CAAvB;IAuBA,MAAMG,KAAK,CAAC,oBAAD,EAAuBZ,cAAvB,CAAL,CAA4Ca,IAA5C,CAAkDC,CAAD,IAAOpB,OAAO,CAAC,CAAD,CAA/D,EAAoEqB,KAApE,CAA0EC,GAAG,IAAIC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAjF,CAAN;EACH,CA9BD;;EAgCA,MAAM,CAAElB,OAAF,EAAWqB,UAAX,IAA0B7B,QAAQ,CAAC,EAAD,CAAxC;EAEA,oBACI;IAAK,SAAS,EAAC,oBAAf;IAAA,wBACI;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI;MAAU,KAAK,EAAEQ,OAAjB;MAA0B,QAAQ,EAAGsB,KAAD,IAAWD,UAAU,CAACC,KAAK,CAACC,MAAN,CAAaC,KAAd;IAAzD;MAAA;MAAA;MAAA;IAAA,QAFJ,eAGI;MAAQ,OAAO,EAAE,MAAMzB,WAAW,CAACC,OAAD,CAAlC;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAHJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAOH,CA7CD;;GAAMN,Q;UAEcH,W;;;KAFdG,Q;AA+CN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}